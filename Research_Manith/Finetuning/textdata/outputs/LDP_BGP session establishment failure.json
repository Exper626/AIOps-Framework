[{"prompt": "What are the common causes of LDP session establishment failure?","response": "Common causes include network connectivity issues, mismatched label space configurations, incorrect LDP router IDs, firewall blocking UDP port 646, and IGP routing failures preventing label distribution."},{"prompt": "How can TCP connectivity issues affect BGP session establishment?","response": "BGP relies on TCP port 179 for communication. Network outages, firewall rules blocking the port, or incorrect neighbor IP configurations can prevent the TCP three-way handshake, leading to session failure."},{"prompt": "What configuration errors in LDP can lead to session establishment issues?","response": "Misconfigured label ranges, mismatched LDP discovery intervals, incorrect transport addresses, or inconsistent downstream unsolicited label distribution mode settings can disrupt LDP session setup."},{"prompt": "Why might a BGP session fail due to AS number mismatches?","response": "If the local router's configured AS number does not match the peer's AS number, the BGP OPEN message negotiation fails, preventing session establishment."},{"prompt": "How does MD5 authentication failure impact BGP sessions?","response": "Mismatched MD5 passwords or misconfigured key chains between BGP peers cause authentication failures, leading to immediate session termination during the OPEN message exchange."},{"prompt": "What role do timer mismatches play in LDP/BGP session failures?","response": "In LDP, mismatched hello/keepalive timers can cause sessions to flap or not initialize. In BGP, mismatched keepalive/hold timers result in OPEN message rejection, preventing session setup."},{"prompt": "How can network layer issues disrupt LDP session establishment?","response": "LDP depends on IGP reachability. If the IGP (e.g., OSPF, IS-IS) fails to populate routes or there are IP address conflicts, LDP cannot establish sessions over the control plane."},{"prompt": "What troubleshooting steps are critical for resolving BGP session failures?","response": "Verify TCP connectivity (telnet to port 179), check BGP neighbor configurations (AS number, IP addresses), review BGP logs for error codes, and validate route filtering policies or prefix lists."},{"prompt": "Why might an LDP session remain in the 'Non-Existent' state?","response": "This typically occurs when LDP discovery mechanisms fail to detect peers, often due to interface-level issues, disabled LDP on interfaces, or missing IGP advertisements for the transport address."},{"prompt": "How do route filtering policies cause BGP session establishment failures?","response": "Overly restrictive inbound/outbound route maps or prefix lists may block necessary prefix exchanges, leading to empty routing updates and session resets during BGP negotiation."},{"prompt": "What impact do firewall rules have on LDP session establishment?","response": "Firewalls blocking UDP port 646 (LDP discovery) or TCP port 646 (LDP sessions) prevent peer discovery and label exchange, resulting in session timeouts."},{"prompt": "How can BGP OPEN message failures be diagnosed?","response": "Check for version mismatches, unsupported capabilities (e.g., MP-BGP), incorrect BGP IDs, or malformed attributes in the OPEN message using packet captures or debug logs."},{"prompt": "What is the effect of an MTU mismatch on LDP/BGP sessions?","response": "An MTU mismatch can cause TCP segmentation issues for BGP or LDP control packets, leading to packet drops and session establishment failures, especially over GRE tunnels or MPLS VPNs."},{"prompt": "Why might a BGP session enter the 'Active' state repeatedly?","response": "This indicates the router is actively trying to establish a session but failing. Causes include unreachable next-hop addresses, TCP connection resets, or misconfigured BGP neighbors (e.g., wrong port or IP address)."},{"prompt": "How does a misconfigured transport address affect LDP sessions?","response": "If the LDP transport address is not reachable via the IGP or conflicts with interface IP addresses, the TCP session between peers cannot be established, causing LDP failures."},{"prompt": "What role do hold timers play in BGP session stability?","response": "The hold timer defines how long a peer waits for a KEEPALIVE or UPDATE message. A mismatched hold timer value during OPEN negotiation causes session rejection."},{"prompt": "How can passive interface configurations disrupt BGP sessions?","response": "Applying a passive interface to a BGP neighbor prevents TCP connection initiation, causing the session to remain in the Idle state unless the neighbor is configured to accept connections passively."},{"prompt": "What are common LDP discovery failures and their remedies?","response": "Failures include missing hello messages (due to interface shutdown), TTL mismatches, or incorrect label ranges. Verify interface status, LDP discovery transport settings, and IGP synchronization."},{"prompt": "How do address family configuration errors impact BGP sessions?","response": "Mismatched address family capabilities (e.g., IPv4 vs. IPv6) in the BGP OPEN message can cause session negotiation failures, even if the base TCP connection is successful."},{"prompt": "What is the significance of BGP neighbor activation for session establishment?","response": "A BGP neighbor must be explicitly activated for a specific address family (e.g., IPv4/IPv6). Without activation, no routing information is exchanged, and the session remains idle."}]