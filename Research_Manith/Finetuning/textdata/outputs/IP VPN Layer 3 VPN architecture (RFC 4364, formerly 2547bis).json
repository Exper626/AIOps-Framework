[{"prompt": "What is the primary purpose of RFC 4364 in Layer 3 VPN architecture?", "response": "RFC 4364 defines the BGP/MPLS IP VPN framework, enabling service providers to deploy scalable Layer 3 Virtual Private Networks (VPNs) by interconnecting customer sites via provider edge (PE) routers, using Multiprotocol BGP (MP-BGP) for route distribution and MPLS for data forwarding."},
{"prompt": "How does RFC 4364 utilize Multiprotocol BGP (MP-BGP)?", "response": "MP-BGP in RFC 4364 distributes VPN-IPv4 routes between provider edge (PE) routers. It uses extended BGP communities (route targets) to control route import/export policies and Route Distinguishers (RDs) to ensure unique address space for overlapping customer IP ranges."},
{"prompt": "What role do Virtual Routing and Forwarding (VRF) instances play in RFC 4364?", "response": "VRFs on provider edge (PE) routers isolate customer routing information, allowing multiple customers to use overlapping IP addresses without conflict. Each VRF maintains separate routing tables and forwarding entries for its associated customer sites."},
{"prompt": "How does MPLS support data plane forwarding in RFC 4364 Layer 3 VPNs?", "response": "MPLS creates label-switched paths (LSPs) between provider edge (PE) routers. Packets are encapsulated with two MPLS labels: an inner label identifying the egress PE and an outer label for transit through the provider core, ensuring efficient and scalable forwarding."},
{"prompt": "What are Route Targets (RTs) in RFC 4364, and how do they function?", "response": "Route Targets (RTs) are BGP extended communities that define import/export policies for VPN routes. They control which VRFs on provider edge (PE) routers can receive or advertise specific routes, enabling flexible membership and connectivity between customer sites."},
{"prompt": "How do Provider Edge (PE) and Customer Edge (CE) routers exchange routing information in RFC 4364?", "response": "PE routers exchange routes with CE routers using standard protocols (e.g., BGP, OSPF, static routes). The PE imports these routes into the appropriate VRF, converts them to VPN-IPv4 addresses with RDs, and advertises them via MP-BGP to other PEs."},
{"prompt": "What distinguishes RFC 4364 Layer 3 VPNs from Layer 2 VPNs?", "response": "RFC 4364 Layer 3 VPNs operate at the network layer, with the service provider managing IP routing via VRFs and MP-BGP. Layer 2 VPNs (e.g., VPLS) transport Layer 2 frames transparently, leaving routing to the customer, while RFC 4364 abstracts routing complexity from the customer."},
{"prompt": "How does RFC 4364 support extranet connectivity between different VPNs?", "response": "Extranet connectivity is achieved by configuring overlapping Route Targets (RTs) across VRFs of different VPNs. This allows selective route exchange between VRFs on provider edge (PE) routers, enabling controlled communication between distinct customer networks."},
{"prompt": "What ensures scalability in RFC 4364 Layer 3 VPNs?", "response": "Scalability is achieved by limiting per-VPN state to provider edge (PE) routers. Core provider (P) routers only maintain provider network routes, while PEs handle VRFs, MP-BGP sessions, and MPLS label distribution, minimizing overhead in the provider network."},
{"prompt": "How does RFC 4364 handle overlapping IP addresses across different customer VPNs?", "response": "Overlapping IP addresses are resolved using Route Distinguishers (RDs), which prepend a unique 64-bit value to IPv4 prefixes. This creates globally unique VPN-IPv4 addresses, allowing distinct customers to reuse the same IP address ranges without conflict."}]