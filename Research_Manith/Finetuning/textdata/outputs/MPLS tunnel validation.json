[{"prompt": "What are the key steps to validate an MPLS tunnel's configuration on a Cisco router?", "response": "To validate an MPLS tunnel on a Cisco router, use commands like 'show mpls ldp neighbor' to confirm LDP adjacency, 'show mpls forwarding-table' to verify label mappings, and 'ping mpls' or 'traceroute mpls' to test data-plane connectivity. Ensure the tunnel interface is up and check for errors in the LDP session."}, {"prompt": "How do you troubleshoot an MPLS tunnel that is administratively up but operationally down?", "response": "Check the LDP session status with 'show mpls ldp neighbor' for synchronization issues. Verify label distribution mode (downstream unsolicited vs. on-demand) and ensure routing protocols (e.g., OSPF, BGP) are exchanging prefixes correctly. Use 'show mpls interface' to confirm MPLS is enabled on the physical/logical interfaces."}, {"prompt": "What tools or commands are used to validate MPLS label switching across a network?", "response": "Key tools include 'show mpls forwarding-table' to inspect label-switched paths (LSPs), 'ping mpls' for end-to-end connectivity tests, and 'traceroute mpls' to identify where the LSP breaks. For deeper analysis, use packet capture tools like Wireshark to validate label imposition/swap/penultimate-hop popping."}, {"prompt": "How do you validate MPLS traffic engineering (TE) tunnels?", "response": "Use 'show mpls traffic-eng tunnels' to confirm tunnel status and path setup. Check RSVP signaling with 'show mpls rsvp neighbor' and validate bandwidth allocation with 'show mpls traffic-eng link-management bandwidth'. Ensure the TE database is synchronized via 'show mpls traffic-eng topology'."}, {"prompt": "What are common issues that cause MPLS tunnel validation failures?", "response": "Common issues include mismatched LDP router IDs, MTU discrepancies, routing protocol black holes, incorrect label distribution modes, and access control lists (ACLs) blocking LDP/TDP ports. Also, verify physical interface status and ensure consistent MPLS configuration across all transit routers."}, {"prompt": "How do you validate MPLS connectivity in a multi-vendor environment (e.g., Cisco and Juniper)?", "response": "On Cisco devices, use 'show mpls ldp neighbor' and 'show mpls forwarding-table'. On Juniper, use 'show mpls label-switched-path' and 'show ldp session'. Ensure label distribution (e.g., LDP vs. RSVP) and routing protocols (e.g., BGP) are interoperable. Test connectivity with 'ping mpls' on Cisco and 'ping mpls lsp' on Juniper."}, {"prompt": "What is the role of the LFIB in MPLS tunnel validation?", "response": "The Label Forwarding Information Base (LFIB) stores label mappings used for forwarding. Validate it with 'show mpls forwarding-table' to ensure labels are correctly assigned and swapped. Discrepancies in the LFIB may indicate LDP/RIB synchronization issues or misconfigured next-hop routers."}, {"prompt": "How do you validate MPLS QoS policies applied to a tunnel?", "response": "Use 'show mpls qos' to verify class-of-service (CoS) settings and 'show policy-map interface' to confirm QoS policies are applied. Check for packet drops or marking inconsistencies with 'show mpls forwarding-table detail' and validate traffic statistics via SNMP or NetFlow tools."}, {"prompt": "What steps validate an MPLS Layer 3 VPN tunnel?", "response": "Confirm MP-BGP neighborship with 'show bgp vpnv4 unicast summary', verify VRF routing tables with 'show ip route vrf [VRF_NAME]', and test end-to-end reachability via 'ping vrf [VRF_NAME]'. Ensure correct RD/RT values and check MPLS label distribution for VPNv4 prefixes."}, {"prompt": "How do you automate MPLS tunnel validation in a large-scale network?", "response": "Use network management tools like Cisco Prime or Junos Space to monitor LSP status and performance. Script validation checks with Python/Ansible to execute CLI commands (e.g., 'show mpls ldp neighbor') across devices. Integrate with APIs like Cisco YANG or Juniper PyEZ for programmatic validation and alerts."}]